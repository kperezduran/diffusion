<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="net_slider_container" name="Net Slider Container">
        <div class="net-slider-wrapper">
            <div class="swiper net-slider-swiper">
                <div class="swiper-wrapper">
                    <t t-foreach="slides" t-as="slider">
                        <t t-call="net_diffusion.slider_product"/>
                    </t>
                </div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
        <script type="text/javascript">
            (function(){
                if (window.Swiper) {
                    setTimeout(function(){
                        try{
                            new Swiper('.mySwiper:not(.netfel-swiper)', {
                                slidesPerView: 5,
                                spaceBetween: 16,
                                navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
                                pagination: { el: '.swiper-pagination', clickable: true },
                                lazy: true,
                                breakpoints: {
                                    320: { slidesPerView: 2 },
                                    640: { slidesPerView: 3 },
                                    1024: { slidesPerView: 5 }
                                }
                            });
                        }catch(e){if (window.console) console.warn('Swiper init failed', e)}
                    }, 0);
                }
            })();
        </script>
    </template>
</odoo>
